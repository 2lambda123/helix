




<html>
	<head>
		<title>ix.option - Helix Documentation</title>

		<meta property="og:type" content="website" />
		<meta property="og:title" content="ix.option - Helix Documentation" />
		<meta property="og:site_name" content="Helix Documentation" />

			<meta property="og:description" content="Client-side configuration management." />

		<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Code+Pro" />
		<link rel="stylesheet" href="../ldoc.css" />
		<link rel="stylesheet" href="../highlight.css" />
	</head>

	<body>
		<aside>
			<h1>Helix</h1>

			<!-- project contents -->
			<section>
						<h2>Libraries</h2>

						<ul>
								<li><a href="../libraries/ix.html">ix</a></li>
								<li><a href="../libraries/ix.act.html">ix.act</a></li>
								<li><a href="../libraries/ix.anim.html">ix.anim</a></li>
								<li><a href="../libraries/ix.char.html">ix.char</a></li>
								<li><a href="../libraries/ix.chat.html">ix.chat</a></li>
								<li><a href="../libraries/ix.class.html">ix.class</a></li>
								<li><a href="../libraries/ix.command.html">ix.command</a></li>
								<li><a href="../libraries/ix.config.html">ix.config</a></li>
								<li><a href="../libraries/ix.currency.html">ix.currency</a></li>
								<li><a href="../libraries/ix.data.html">ix.data</a></li>
								<li><a href="../libraries/ix.date.html">ix.date</a></li>
								<li><a href="../libraries/ix.faction.html">ix.faction</a></li>
								<li><a href="../libraries/ix.flag.html">ix.flag</a></li>
								<li><a href="../libraries/ix.item.html">ix.item</a></li>
								<li><a href="../libraries/ix.lang.html">ix.lang</a></li>
								<li><a href="../libraries/ix.log.html">ix.log</a></li>
								<li><a href="../libraries/ix.menu.html">ix.menu</a></li>
								<li><a href="../libraries/ix.notice.html">ix.notice</a></li>
								<li><a href="../libraries/ix.option.html">ix.option</a></li>
								<li><a href="../libraries/ix.storage.html">ix.storage</a></li>
								<li><a href="../libraries/ix.util.html">ix.util</a></li>
						</ul>
						<h2>Hooks</h2>

						<ul>
								<li><a href="../hooks/Class.html">Class</a></li>
								<li><a href="../hooks/Faction.html">Faction</a></li>
								<li><a href="../hooks/Plugin.html">Plugin</a></li>
						</ul>
						<h2>Panels</h2>

						<ul>
								<li><a href="../panels/ixTooltip.html">ixTooltip</a></li>
								<li><a href="../panels/ixTooltipRow.html">ixTooltipRow</a></li>
						</ul>
						<h2>Classes</h2>

						<ul>
								<li><a href="../classes/Entity.html">Entity</a></li>
								<li><a href="../classes/Inventory.html">Inventory</a></li>
								<li><a href="../classes/Character.html">Character</a></li>
								<li><a href="../classes/Item.html">Item</a></li>
								<li><a href="../classes/Player.html">Player</a></li>
						</ul>
						<h2>Manual</h2>

						<ul>
								<li><a href="../manual/00-getting-started.md.html">Getting Started</a></li>
								<li><a href="../manual/10-converting-from-clockwork.md.html">Clockwork to Helix Migration</a></li>
						</ul>
			</section>
		</aside>

		<!-- library functions -->
		<article>
				<header class="module">
					<h1>ix.option</h1>
					<h2>Client-side configuration management.</h2>
				</header>

				<!-- description -->
				<p>The <a href="../libraries/ix.option.html">option</a> library provides a cleaner way to manage any arbitrary data on the client without the hassle of managing CVars. It
is analagous to the <a href="../libraries/ix.config.html#">ix.config</a> library, but it only deals with data that needs to be stored on the client.</p>

<p>To get started, you'll need to define an option in a client realm so the framework can be aware of its existence. This can be
done in the <code>cl_init.lua</code> file of your schema, or in an <code>if (CLIENT) then</code> statement in the <code>sh_plugin.lua</code> file of your plugin:</p>
<pre><code>ix.option.Add("headbob", ix.type.bool, true)
</code></pre>

<p>If you need to get the value of an option on the server, you'll need to specify <code>true</code> for the <code>bNetworked</code> argument in
<a href="../libraries/ix.option.html#ix.option.Add">ix.option.Add</a>. <em>NOTE:</em> You also need to define your option in a <em>shared</em> realm, since the server now also needs to be aware
of its existence. This makes it so that the client will send that option's value to the server whenever it changes, which then
means that the server can now retrieve the value that the client has the option set to. For example, if you need to get what
language a client is using, you can simply do the following:</p>
<pre><code>ix.option.Get(player.GetByID(1), "language", "english")
</code></pre>

<p>This will return the language of the player, or <code>&quot;english&quot;</code> if one isn't found. Note that <code>&quot;language&quot;</code> is a networked option
that is already defined in the framework, so it will always be available. All options will show up in the options menu on the
client, unless <code>hidden</code> returns <code>true</code> when using <a href="../libraries/ix.option.html#ix.option.Add">ix.option.Add</a>.</p>

<p>Note that the labels for each option in the menu will use a language phrase to show the name. For example, if your option is
named <code>headbob</code>, then you'll need to define a language phrase called <code>optHeadbob</code> that will be used as the option title.</p>

				<!-- summary -->
				<details open>
					<summary>Reference</summary>

					<div class="contents">
							<h2>Functions</h2>
							<ul>
									<li><span class="realm shared"></span><a href="#ix.option.Add">ix.option.Add(key, optionType, default, data)</a></li>
									<li><span class="realm client"></span><a href="#ix.option.Get">ix.option.Get(key, default)</a></li>
									<li><span class="realm server"></span><a href="#ix.option.Get">ix.option.Get(client, key, default)</a></li>
									<li><span class="realm shared"></span><a href="#ix.option.GetAll">ix.option.GetAll()</a></li>
									<li><span class="realm shared"></span><a href="#ix.option.GetAllByCategories">ix.option.GetAllByCategories([bRemoveHidden=false])</a></li>
									<li><span class="realm shared"></span><a href="#ix.option.Load">ix.option.Load()</a></li>
									<li><span class="realm client"></span><a href="#ix.option.Save">ix.option.Save()</a></li>
									<li><span class="realm client"></span><a href="#ix.option.Set">ix.option.Set(key, value[, bNoSave=false])</a></li>
									<li><span class="realm client"></span><a href="#ix.option.Sync">ix.option.Sync()</a></li>
							</ul>
							<h2>Tables</h2>
							<ul>
									<li><span class="realm shared"></span><a href="#OptionStructure">OptionStructure</a></li>
							</ul>
					</div>
				</details>

				<!-- methods -->
					<h1 class="title">Functions</h1>

						<section class="method">
								<aside>
										<pre><code>ix.option.Add("animationScale", ix.type.number, 1, {
	category = "appearance",
	min = 0.3,
	max = 2,
	decimals = 1
})
</code></pre>
								</aside>
							<header>
								<a class="anchor" id="ix.option.Add">
									<h1><span class="realm shared"></span>ix.option.Add(key, optionType, default, data)</h1>
								</a>


									<a class="reference" href="https://github.com/nebulouscloud/helix/tree/master/gamemode/core/libs/sh_option.lua#L44">View source &raquo;</a>

								<p>Creates a client-side configuration option with the given information.</p>
							</header>


									<h3>Parameters</h3>


									<ul>

											<li>
												<span class="tag parameter">key</span>

													<span class="tag"><a class="type" href="https://www.lua.org/manual/5.2/manual.html#6.4">string</a></span>


												<p> Unique ID for this option</p>
											</li>
									</ul>

									<ul>

											<li>
												<span class="tag parameter">optionType</span>

													<span class="tag"><a class="type" href="../libraries/ix.html#type">ix.type</a></span>


												<p> Type of this option</p>
											</li>
									</ul>

									<ul>

											<li>
												<span class="tag parameter">default</span>



												<p> Default value that this option will have - this can be nil if needed</p>
											</li>
									</ul>

									<ul>

											<li>
												<span class="tag parameter">data</span>

													<span class="tag"><a class="type" href="../libraries/ix.option.html#OptionStructure">OptionStructure</a></span>


												<p> Additional settings for this option</p>
											</li>
									</ul>


						</section>
						<section class="method">
							<header>
								<a class="anchor" id="ix.option.Get">
									<h1><span class="realm client"></span>ix.option.Get(key, default)</h1>
								</a>


									<a class="reference" href="https://github.com/nebulouscloud/helix/tree/master/gamemode/core/libs/sh_option.lua#L218">View source &raquo;</a>

								<p>Retrieves an option value for the local player.  If it is not set, it'll return the default that you've specified.</p>
							</header>


									<h3>Parameters</h3>


									<ul>

											<li>
												<span class="tag parameter">key</span>

													<span class="tag"><a class="type" href="https://www.lua.org/manual/5.2/manual.html#6.4">string</a></span>


												<p> Unique ID of the option</p>
											</li>
									</ul>

									<ul>

											<li>
												<span class="tag parameter">default</span>



												<p> Default value to return if the option is not set</p>
											</li>
									</ul>


								<h3>Returns</h3>
								<ul>

											<li>
													<span class="tag type">any</span>

												<p>Value associated with the key</p>
											</li>

											<div class="or"><span>OR</span></div>

											<li>
													<span class="tag type">any</span>

												<p>The given default if the option is not set</p>
											</li>

								</ul>

						</section>
						<section class="method">
							<header>
								<a class="anchor" id="ix.option.Get">
									<h1><span class="realm server"></span>ix.option.Get(client, key, default)</h1>
								</a>


									<a class="reference" href="https://github.com/nebulouscloud/helix/tree/master/gamemode/core/libs/sh_option.lua#L278">View source &raquo;</a>

								<p>Retrieves an option value from the specified player.  If it is not set, it'll return the default that you've specified.
 This function will error when an invalid player is passed.</p>
							</header>


									<h3>Parameters</h3>


									<ul>

											<li>
												<span class="tag parameter">client</span>

													<span class="tag"><a class="type" href="../classes/Player.html#">Player</a></span>


												<p> Player to retrieve option value from</p>
											</li>
									</ul>

									<ul>

											<li>
												<span class="tag parameter">key</span>

													<span class="tag"><a class="type" href="https://www.lua.org/manual/5.2/manual.html#6.4">string</a></span>


												<p> Unique ID of the option</p>
											</li>
									</ul>

									<ul>

											<li>
												<span class="tag parameter">default</span>



												<p> Default value to return if the option is not set</p>
											</li>
									</ul>


								<h3>Returns</h3>
								<ul>

											<li>
													<span class="tag type">any</span>

												<p>Value associated with the key</p>
											</li>

											<div class="or"><span>OR</span></div>

											<li>
													<span class="tag type">any</span>

												<p>The given default if the option is not set</p>
											</li>

								</ul>

						</section>
						<section class="method">
								<aside>
										<pre><code>PrintTable(ix.option.GetAll())
> language:
>	bNetworked = true
>	default = english
>	type = 512
-- etc.
</code></pre>
								</aside>
							<header>
								<a class="anchor" id="ix.option.GetAll">
									<h1><span class="realm shared"></span>ix.option.GetAll()</h1>
								</a>


									<a class="reference" href="https://github.com/nebulouscloud/helix/tree/master/gamemode/core/libs/sh_option.lua#L139">View source &raquo;</a>

								<p>Returns all of the available options.  Note that this does contain the actual values of the options, just their properties.</p>
							</header>



								<h3>Returns</h3>
								<ul>

											<li>
													<a class="type" href="https://www.lua.org/manual/5.2/manual.html#6.5">table</a>

												<p>Table of all options</p>
											</li>

								</ul>

						</section>
						<section class="method">
								<aside>
										<pre><code>PrintTable(ix.option.GetAllByCategories())
> general:
>	1:
>		key = language
>		bNetworked = true
>		default = english
>		type = 512
-- etc.
</code></pre>
								</aside>
							<header>
								<a class="anchor" id="ix.option.GetAllByCategories">
									<h1><span class="realm shared"></span>ix.option.GetAllByCategories([bRemoveHidden=false])</h1>
								</a>


									<a class="reference" href="https://github.com/nebulouscloud/helix/tree/master/gamemode/core/libs/sh_option.lua#L157">View source &raquo;</a>

								<p>Returns all of the available options grouped by their categories.  The returned table contains category tables, that contain
 all the options in that category as an array (this is so you can sort them if you'd like).</p>
							</header>


									<h3>Parameters</h3>


									<ul>

											<li>
												<span class="tag parameter">bRemoveHidden</span>

													<span class="tag"><span class="type">boolean</span></span>

													<span class="tag default">default: false</span>

												<p> Remove entries that are marked as hidden</p>
											</li>
									</ul>


								<h3>Returns</h3>
								<ul>

											<li>
													<a class="type" href="https://www.lua.org/manual/5.2/manual.html#6.5">table</a>

												<p>Table of all options</p>
											</li>

								</ul>

						</section>
						<section class="method">
							<header>
								<a class="anchor" id="ix.option.Load">
									<h1><span class="realm shared"></span>ix.option.Load()</h1>
								</a>

									<div class="internal"></div>

									<a class="reference" href="https://github.com/nebulouscloud/helix/tree/master/gamemode/core/libs/sh_option.lua#L114">View source &raquo;</a>

								<p>Loads all saved options from disk.</p>
							</header>



						</section>
						<section class="method">
							<header>
								<a class="anchor" id="ix.option.Save">
									<h1><span class="realm client"></span>ix.option.Save()</h1>
								</a>

									<div class="internal"></div>

									<a class="reference" href="https://github.com/nebulouscloud/helix/tree/master/gamemode/core/libs/sh_option.lua#L237">View source &raquo;</a>

								<p>Saves all options to disk.</p>
							</header>



						</section>
						<section class="method">
							<header>
								<a class="anchor" id="ix.option.Set">
									<h1><span class="realm client"></span>ix.option.Set(key, value[, bNoSave=false])</h1>
								</a>


									<a class="reference" href="https://github.com/nebulouscloud/helix/tree/master/gamemode/core/libs/sh_option.lua#L186">View source &raquo;</a>

								<p>Sets an option value for the local player.
 This function will error when an invalid key is passed.</p>
							</header>


									<h3>Parameters</h3>


									<ul>

											<li>
												<span class="tag parameter">key</span>

													<span class="tag"><a class="type" href="https://www.lua.org/manual/5.2/manual.html#6.4">string</a></span>


												<p> Unique ID of the option</p>
											</li>
									</ul>

									<ul>

											<li>
												<span class="tag parameter">value</span>



												<p> New value to assign to the option</p>
											</li>
									</ul>

									<ul>

											<li>
												<span class="tag parameter">bNoSave</span>

													<span class="tag"><span class="type">boolean</span></span>

													<span class="tag default">default: false</span>

												<p> Whether or not to avoid saving</p>
											</li>
									</ul>


						</section>
						<section class="method">
							<header>
								<a class="anchor" id="ix.option.Sync">
									<h1><span class="realm client"></span>ix.option.Sync()</h1>
								</a>


									<a class="reference" href="https://github.com/nebulouscloud/helix/tree/master/gamemode/core/libs/sh_option.lua#L243">View source &raquo;</a>

								<p>Syncs all networked options to the server.</p>
							</header>



						</section>
					<h1 class="title">Tables</h1>

						<section class="method">
							<header>
								<a class="anchor" id="OptionStructure">
									<h1><span class="realm shared"></span>OptionStructure</h1>
								</a>


									<a class="reference" href="https://github.com/nebulouscloud/helix/tree/master/gamemode/core/libs/sh_option.lua#L94">View source &raquo;</a>

								<p>You can specify additional optional arguments for <a href="../libraries/ix.option.html#ix.option.Add">ix.option.Add</a> by passing in a table of specific fields as the fourth
 argument.</p>
							</header>


									<h3>Fields</h3>


									<ul>

											<li>
												<span class="tag parameter">phrase</span>

													<span class="tag"><a class="type" href="https://www.lua.org/manual/5.2/manual.html#6.4">string</a></span>

													<span class="tag default">default: "opt" .. key</span>

												<p> The phrase to use when displaying in the UI. The default value is your option
 key in UpperCamelCase, prefixed with <code>&quot;opt&quot;</code>. For example, if your key is <code>&quot;exampleOption&quot;</code>, the default phrase will be
 <code>&quot;optExampleOption&quot;</code>.</p>
											</li>
									</ul>

									<ul>

											<li>
												<span class="tag parameter">description</span>

													<span class="tag"><a class="type" href="https://www.lua.org/manual/5.2/manual.html#6.4">string</a></span>

													<span class="tag default">default: "optd" .. key</span>

												<p> The phrase to use in the tooltip when hovered in the UI. The default
 value is your option key in UpperCamelCase, prefixed with <code>&quot;optd&quot;</code>. For example, if your key is <code>&quot;exampleOption&quot;</code>, the
 default phrase will be <code>&quot;optdExampleOption&quot;</code>.</p>
											</li>
									</ul>

									<ul>

											<li>
												<span class="tag parameter">category</span>

													<span class="tag"><a class="type" href="https://www.lua.org/manual/5.2/manual.html#6.4">string</a></span>

													<span class="tag default">default: "misc"</span>

												<p> The category that this option should reside in. This is purely for
 aesthetic reasons when displaying the options in the options menu. When displayed in the UI, it will take the form of
 <code>L(&quot;category name&quot;)</code>. This means that you must create a language phrase for the category name - otherwise it will only
 show as the exact string you've specified. If no category is set, it will default to <code>&quot;misc&quot;</code>.</p>
											</li>
									</ul>

									<ul>

											<li>
												<span class="tag parameter">min</span>

													<span class="tag"><span class="type">number</span></span>

													<span class="tag default">default: 0</span>

												<p> The minimum allowed amount when setting this option. This field is not
 applicable to any type other than <code>ix.type.number</code>.</p>
											</li>
									</ul>

									<ul>

											<li>
												<span class="tag parameter">max</span>

													<span class="tag"><span class="type">number</span></span>

													<span class="tag default">default: 10</span>

												<p> The maximum allowed amount when setting this option. This field is not
 applicable to any type other than <code>ix.type.number</code>.</p>
											</li>
									</ul>

									<ul>

											<li>
												<span class="tag parameter">decimals</span>

													<span class="tag"><span class="type">number</span></span>

													<span class="tag default">default: 0</span>

												<p> How many decimals to constrain to when using a number type. This field is not
 applicable to any type other than <code>ix.type.number</code>.</p>
											</li>
									</ul>

									<ul>

											<li>
												<span class="tag parameter">bNetworked</span>

													<span class="tag"><span class="type">boolean</span></span>

													<span class="tag default">default: false</span>

												<p> Whether or not the server should be aware of this option for each client.</p>
											</li>
									</ul>

									<ul>

											<li>
												<span class="tag parameter">OnChanged</span>

													<span class="tag"><span class="type">function</span></span>

													<span class="tag default">optional</span>

												<p>
<p> The function to run when this option is changed - this includes whether it was set
 by the player, or through code using <a href="../libraries/ix.option.html#ix.option.Set">ix.option.Set</a>.</p>
<pre><code>OnChanged = function(oldValue, value)
    print("new value is", value)
end
</code></pre>
</p>
											</li>
									</ul>

									<ul>

											<li>
												<span class="tag parameter">hidden</span>

													<span class="tag"><span class="type">function</span></span>

													<span class="tag default">optional</span>

												<p> The function to check whether the option should be hidden from the options menu.</p>
											</li>
									</ul>

									<ul>

											<li>
												<span class="tag parameter">populate</span>

													<span class="tag"><span class="type">function</span></span>

													<span class="tag default">optional</span>

												<p>
<p> The function to run when the option needs to be added to the menu. This is a required
 field for any array options. It should return a table of entries where the key is the value to set in <a href="../libraries/ix.option.html#ix.option.Set">ix.option.Set</a>,
 and the value is the display name for the entry. An example:</p>

<pre><code>populate = function()
    return {
        ["english"] = "English",
        ["french"] = "French",
        ["spanish"] = "Spanish"
    }
end
</code></pre>
</p>
											</li>
									</ul>


						</section>
		</article>

		<footer>
			<p>Generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.6</a></p>
		</footer>

		<script type="text/javascript" src="../highlight.min.js"></script>
		<script type="text/javascript">
		var elements = document.querySelectorAll("aside code, pre code")

		hljs.configure({
			languages: ["lua"]
		});

		for (var i = 0; i < elements.length; i++)
		{
			hljs.highlightBlock(elements[i]);
		}
		</script>
	</body>
</html>
